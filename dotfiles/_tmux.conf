# fix tmux clipboard problem on osx
# need to install => brew install reattach-to-user-namespace
# comment this if not on OSX
#set-option -g default-command "reattach-to-user-namespace -l zsh"

# Allows for faster key repetition
set -s escape-time 0

# Start windows numbering at 1
set -g base-index 1
set -g status-keys vi

# C-b is not always conviniant
set-option -g prefix C-B

# Allows us to use C-e e <command> to send commands to a TMUX session inside
# another TMUX session
bind-key e send-prefix

# Set window notifications
setw -g monitor-activity on
set -g visual-activity off

# fiddle with colors of status bar
# set -g status-fg white
# set -g status-bg colour234
set -g status-fg black
set -g status-bg green


# fiddle with colors of inactive windows
# setw -g window-status-fg cyan
# setw -g window-status-bg colour234
# setw -g window-status-attr dim
setw -g window-status-fg black
setw -g window-status-bg green
setw -g window-status-attr dim


# change color of active window
setw -g window-status-current-fg black
setw -g window-status-current-bg white
setw -g window-status-current-attr bright


# window switch
bind <  previous-window
bind > next-window
unbind-key M-,  ; bind-key -n M-,  previous-window
unbind-key M-. ; bind-key -n M-. next-window
unbind-key M-left
unbind-key M-right


# hjkl pane traversal
unbind-key M-l ; bind-key -n M-l select-pane -L
unbind-key M-h ; bind-key -n M-h select-pane -R
unbind-key M-j ; bind-key -n M-j select-pane -D
unbind-key M-k ; bind-key -n M-k select-pane -U

bind h select-pane -L
bind j select-pane -D
bind k select-pane -U
bind l select-pane -R

# Terminal settingd
set -g default-terminal xterm-256color
setw -g xterm-keys on

# Toggle mouse on with ^B m
 bind m \
   set -g mouse on \;\
   display 'Mouse: ON'

# Toggle mouse off with ^B M
   bind M \
     set -g mouse off \;\
     display 'Mouse: OFF'

# Vi copypaste mode
bind Escape copy-mode
unbind p
bind p paste-buffer
set-window-option -g mode-keys vi
bind-key -t vi-copy 'v' begin-selection
bind-key -t vi-copy 'y' copy-selection

# paste vim clipboard
#bind-key v run "cat /tmp/vim.copy.txt"
#bind C-v run "cat /tmp/vim.copy.txt | tmux load-buffer - && tmux paste-buffer"

# reload config
bind r source-file ~/.tmux.conf \; display-message "Config reloaded..."

# panes syncrhonization
bind S set -w synchronize-panes

